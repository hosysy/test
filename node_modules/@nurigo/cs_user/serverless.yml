service: npmjs-cs-user

provider:
  name: aws
  runtime: nodejs6.10
  region: ap-northeast-2
  memorySize: 512
  timeout: 60
  stage: dev
  ver: 1
  iamRoleStatements:
    - Effect: "Allow"
      Resource: "*"
      Action:
        - "cloudwatch:*"
        - "dynamodb:*"
        - "events:*"
        - "iam:ListAttachedRolePolicies"
        - "iam:ListRolePolicies"
        - "iam:ListRoles"
        - "iam:PassRole"
        - "kms:Encrypt"
        - "kms:Decrypt"
        - "kinesis:*"
        - "lambda:*"
        - "logs:*"
        - "s3:*"
        - "apigateway:*"
        - "ec2:*"
        - "ec2:CreateNetworkInterface"
        - "ec2:DescribeNetworkInterfaces"
        - "ec2:DeleteNetworkInterface"
  vpc:
    securityGroupIds:
      - sg-5b18fb33
    subnetIds:
      - subnet-1452d059
      - subnet-a45d15cd

package:
  excludeDevDependencies: false
  include:
    - "serverless.yml"
  exclude:
    - "*.mp3"
    - "test/*"
    - "src/*"
    - ".git/**"
    - ".serverless/*.zip"
    - "node_modules/**"

functions:
  index:
    handler: lambda/index.handler